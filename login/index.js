(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();var me=/([:*])(\w+)/g,_e="([^/]+)",ye=/\*/g,Le="?(?:.*)",Ee=/\/\?/g,Re="/?([^/]+|)",we="(?:/^|^)",Oe="";function V(e){return e===void 0&&(e="/"),F()?location.pathname+location.search+location.hash:e}function h(e){return e.replace(/\/+$/,"").replace(/^\/+/,"")}function S(e){return typeof e=="string"}function Ae(e){return typeof e=="function"}function P(e){return e&&e.indexOf("#")>=0&&e.split("#").pop()||""}function ke(e,n){return n.length===0||!e?null:e.slice(1,e.length).reduce(function(i,r,o){return i===null&&(i={}),i[n[o]]=decodeURIComponent(r),i},null)}function H(e){var n=h(e).split(/\?(.*)?$/);return[h(n[0]),n.slice(1).join("")]}function C(e){for(var n={},i=e.split("&"),r=0;r<i.length;r++){var o=i[r].split("=");if(o[0]!==""){var s=decodeURIComponent(o[0]);n[s]?(Array.isArray(n[s])||(n[s]=[n[s]]),n[s].push(decodeURIComponent(o[1]||""))):n[s]=decodeURIComponent(o[1]||"")}}return n}function Q(e,n){var i=H(h(e.currentLocationPath)),r=i[0],o=i[1],s=o===""?null:C(o),f=[],d;if(S(n.path)){if(d=we+h(n.path).replace(me,function(E,y,R){return f.push(R),_e}).replace(ye,Le).replace(Ee,Re)+"$",h(n.path)===""&&h(r)==="")return{url:r,queryString:o,hashString:P(e.to),route:n,data:null,params:s}}else d=n.path;var _=new RegExp(d,Oe),p=r.match(_);if(p){var w=S(n.path)?ke(p,f):p.groups?p.groups:p.slice(1);return{url:h(r.replace(new RegExp("^"+e.instance.root),"")),queryString:o,hashString:P(e.to),route:n,data:w,params:s}}return!1}function Y(){return!!(typeof window<"u"&&window.history&&window.history.pushState)}function L(e,n){return typeof e[n]>"u"||e[n]===!0}function Se(e){if(!e)return{};var n=e.split(","),i={},r;return n.forEach(function(o){var s=o.split(":").map(function(f){return f.replace(/(^ +| +$)/g,"")});switch(s[0]){case"historyAPIMethod":i.historyAPIMethod=s[1];break;case"resolveOptionsStrategy":r||(r={}),r.strategy=s[1];break;case"resolveOptionsHash":r||(r={}),r.hash=s[1]==="true";break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":i[s[0]]=s[1]==="true";break}}),r&&(i.resolveOptions=r),i}function F(){return typeof window<"u"}function Pe(e,n){return e===void 0&&(e=[]),n===void 0&&(n={}),e.filter(function(i){return i}).forEach(function(i){["before","after","already","leave"].forEach(function(r){i[r]&&(n[r]||(n[r]=[]),n[r].push(i[r]))})}),n}function m(e,n,i){var r=n||{},o=0;(function s(){if(!e[o]){i&&i(r);return}Array.isArray(e[o])?(e.splice.apply(e,[o,1].concat(e[o][0](r)?e[o][1]:e[o][2])),s()):e[o](r,function(f){typeof f>"u"||f===!0?(o+=1,s()):i&&i(r)})})()}m.if=function(e,n,i){return Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]),[e,n,i]};function $(e,n){typeof e.currentLocationPath>"u"&&(e.currentLocationPath=e.to=V(e.instance.root)),e.currentLocationPath=e.instance._checkForAHash(e.currentLocationPath),n()}function b(e,n){for(var i=0;i<e.instance.routes.length;i++){var r=e.instance.routes[i],o=Q(e,r);if(o&&(e.matches||(e.matches=[]),e.matches.push(o),e.resolveOptions.strategy==="ONE")){n();return}}n()}function He(e,n){e.navigateOptions&&(typeof e.navigateOptions.shouldResolve<"u"&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),typeof e.navigateOptions.silent<"u"&&console.warn('"silent" is deprecated. Please check the documentation.')),n()}function be(e,n){e.navigateOptions.force===!0?(e.instance._setCurrent([e.instance._pathToMatchObject(e.to)]),n(!1)):n()}var D=F(),Te=Y();function Me(e,n){if(L(e.navigateOptions,"updateBrowserURL")){var i=("/"+e.to).replace(/\/\//g,"/"),r=D&&e.resolveOptions&&e.resolveOptions.hash===!0;Te?(history[e.navigateOptions.historyAPIMethod||"pushState"](e.navigateOptions.stateObj||{},e.navigateOptions.title||"",r?"#"+i:i),location&&location.hash&&(e.instance.__freezeListening=!0,setTimeout(function(){if(!r){var o=location.hash;location.hash="",location.hash=o}e.instance.__freezeListening=!1},1))):D&&(window.location.href=e.to)}n()}function J(e,n){var i=e.instance;if(!i.lastResolved()){n();return}m(i.lastResolved().map(function(r){return function(o,s){if(!r.route.hooks||!r.route.hooks.leave){s();return}var f=!1,d=e.instance.matchLocation(r.route.path,e.currentLocationPath,!1);if(r.route.path!=="*")f=!d;else{var _=e.matches?e.matches.find(function(p){return r.route.path===p.route.path}):!1;f=!_}if(L(e.navigateOptions,"callHooks")&&f){m(r.route.hooks.leave.map(function(p){return function(w,E){return p(function(y){y===!1?e.instance.__markAsClean(e):E()},e.matches&&e.matches.length>0?e.matches.length===1?e.matches[0]:e.matches:void 0)}}).concat([function(){return s()}]));return}else s()}}),{},function(){return n()})}function Ie(e,n){e.match.route.hooks&&e.match.route.hooks.before&&L(e.navigateOptions,"callHooks")?m(e.match.route.hooks.before.map(function(i){return function(o,s){return i(function(f){f===!1?e.instance.__markAsClean(e):s()},e.match)}}).concat([function(){return n()}])):n()}function Ce(e,n){L(e.navigateOptions,"callHandler")&&e.match.route.handler(e.match),e.instance.updatePageLinks(),n()}function Fe(e,n){e.match.route.hooks&&e.match.route.hooks.after&&L(e.navigateOptions,"callHooks")&&e.match.route.hooks.after.forEach(function(i){return i(e.match)}),n()}function Be(e,n){var i=e.instance.lastResolved();if(i&&i[0]&&i[0].route===e.match.route&&i[0].url===e.match.url&&i[0].queryString===e.match.queryString){i.forEach(function(r){r.route.hooks&&r.route.hooks.already&&L(e.navigateOptions,"callHooks")&&r.route.hooks.already.forEach(function(o){return o(e.match)})}),n(!1);return}n()}function Ne(e,n){var i=e.instance._notFoundRoute;if(i){e.notFoundHandled=!0;var r=H(e.currentLocationPath),o=r[0],s=r[1],f=P(e.to);i.path=h(o);var d={url:i.path,queryString:s,hashString:f,data:null,route:i,params:s!==""?C(s):null};e.matches=[d],e.match=d}n()}function Ue(e,n){(!e.resolveOptions||e.resolveOptions.noMatchWarning===!1||typeof e.resolveOptions.noMatchWarning>"u")&&console.warn('Navigo: "'+e.currentLocationPath+`" didn't match any of the registered routes.`),n()}function Ge(e,n){e.instance._setCurrent(null),n()}function Z(e,n){L(e.navigateOptions,"updateState")&&e.instance._setCurrent(e.matches),n()}var x=[Be,Ie,Ce,Fe],W=[J,Ne,m.if(function(e){var n=e.notFoundHandled;return n},x.concat([Z]),[Ue,Ge])];function M(){return M=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},M.apply(this,arguments)}function X(e,n){var i=0;function r(){if(i===e.matches.length){Z(e,n);return}m(x,M({},e,{match:e.matches[i]}),function(){i+=1,r()})}J(e,r)}function T(e){e.instance.__markAsClean(e)}function I(){return I=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},I.apply(this,arguments)}var z="[data-navigo]";function je(e,n){var i=n||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:z},r=this,o="/",s=null,f=[],d=!1,_,p=Y(),w=F();e?o=h(e):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.');function E(t){return t.indexOf("#")>=0&&(i.hash===!0?t=t.split("#")[1]||"/":t=t.split("#")[0]),t}function y(t){return h(o+"/"+h(t))}function R(t,a,u,l){return t=S(t)?y(t):t,{name:l||h(String(t)),path:t,handler:a,hooks:Pe(u)}}function ee(t,a,u){var l=this;return typeof t=="object"&&!(t instanceof RegExp)?(Object.keys(t).forEach(function(c){if(typeof t[c]=="function")l.on(c,t[c]);else{var v=t[c],O=v.uses,ge=v.as,ve=v.hooks;f.push(R(c,O,[_,ve],ge))}}),this):(typeof t=="function"&&(u=a,a=t,t=o),f.push(R(t,a,[_,u])),this)}function B(t,a){if(r.__dirty){r.__waiting.push(function(){return r.resolve(t,a)});return}else r.__dirty=!0;t=t?h(o)+"/"+h(t):void 0;var u={instance:r,to:t,currentLocationPath:t,navigateOptions:{},resolveOptions:I({},i,a)};return m([$,b,m.if(function(l){var c=l.matches;return c&&c.length>0},X,W)],u,T),u.matches?u.matches:!1}function N(t,a){if(r.__dirty){r.__waiting.push(function(){return r.navigate(t,a)});return}else r.__dirty=!0;t=h(o)+"/"+h(t);var u={instance:r,to:t,navigateOptions:a||{},resolveOptions:a&&a.resolveOptions?a.resolveOptions:i,currentLocationPath:E(t)};m([He,be,b,m.if(function(l){var c=l.matches;return c&&c.length>0},X,W),Me,T],u,T)}function te(t,a,u){var l=G(t,a);return l!==null?(N(l.replace(new RegExp("^/?"+o),""),u),!0):!1}function ne(t){return this.routes=f=f.filter(function(a){return S(t)?h(a.path)!==h(t):Ae(t)?t!==a.handler:String(a.path)!==String(t)}),this}function re(){p&&(this.__popstateListener=function(){r.__freezeListening||B()},window.addEventListener("popstate",this.__popstateListener))}function ie(){this.routes=f=[],p&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=d=!0}function oe(t,a){return r._notFoundRoute=R("*",t,[_,a],"__NOT_FOUND__"),this}function U(){if(w)return ae().forEach(function(t){if(t.getAttribute("data-navigo")==="false"||t.getAttribute("target")==="_blank"){t.hasListenerAttached&&t.removeEventListener("click",t.navigoHandler);return}t.hasListenerAttached||(t.hasListenerAttached=!0,t.navigoHandler=function(a){if((a.ctrlKey||a.metaKey)&&a.target.tagName.toLowerCase()==="a")return!1;var u=t.getAttribute("href");if(typeof u>"u"||u===null)return!1;if(u.match(/^(http|https)/)&&typeof URL<"u")try{var l=new URL(u);u=l.pathname+l.search}catch{}var c=Se(t.getAttribute("data-navigo-options"));d||(a.preventDefault(),a.stopPropagation(),r.navigate(h(u),c))},t.addEventListener("click",t.navigoHandler))}),r}function ae(){return w?[].slice.call(document.querySelectorAll(i.linksSelector||z)):[]}function se(t){return"/"+o+"/"+h(t)}function ue(t){return _=t,this}function ce(){return s}function G(t,a,u){var l=f.find(function(O){return O.name===t}),c=null;if(l){if(c=l.path,a)for(var v in a)c=c.replace(":"+v,a[v]);c=c.match(/^\//)?c:"/"+c}return c&&u&&!u.includeRoot&&(c=c.replace(new RegExp("^/"+o),"")),c}function fe(t){return t.getAttribute("href")}function j(t){var a=H(h(t)),u=a[0],l=a[1],c=l===""?null:C(l),v=P(t),O=R(u,function(){},[_],u);return{url:u,queryString:l,hashString:v,route:O,data:null,params:c}}function le(){return j(h(V(o)).replace(new RegExp("^"+o),""))}function he(t){var a={instance:r,currentLocationPath:t,to:t,resolveOptions:i};return b(a,function(){}),a.matches?a.matches:!1}function de(t,a,u){typeof a<"u"&&(typeof u>"u"||u)&&(a=y(a));var l={instance:r,to:a,currentLocationPath:a};$(l,function(){}),typeof t=="string"&&(t=typeof u>"u"||u?y(t):t);var c=Q(l,{name:String(t),path:t,handler:function(){},hooks:{}});return c||!1}function k(t,a,u){return typeof a=="string"&&(a=q(a)),a?(a.hooks[t]||(a.hooks[t]=[]),a.hooks[t].push(u),function(){a.hooks[t]=a.hooks[t].filter(function(l){return l!==u})}):(console.warn("Route doesn't exists: "+a),function(){})}function q(t){return typeof t=="string"?f.find(function(a){return a.name===y(t)}):f.find(function(a){return a.handler===t})}function pe(t){t.instance.__dirty=!1,t.instance.__waiting.length>0&&t.instance.__waiting.shift()()}this.root=o,this.routes=f,this.destroyed=d,this.current=s,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=pe,this.on=ee,this.off=ne,this.resolve=B,this.navigate=N,this.navigateByName=te,this.destroy=ie,this.notFound=oe,this.updatePageLinks=U,this.link=se,this.hooks=ue,this.extractGETParameters=function(t){return H(E(t))},this.lastResolved=ce,this.generate=G,this.getLinkPath=fe,this.match=he,this.matchLocation=de,this.getCurrentLocation=le,this.addBeforeHook=k.bind(this,"before"),this.addAfterHook=k.bind(this,"after"),this.addAlreadyHook=k.bind(this,"already"),this.addLeaveHook=k.bind(this,"leave"),this.getRoute=q,this._pathToMatchObject=j,this._clean=h,this._checkForAHash=E,this._setCurrent=function(t){return s=r.current=t},re.call(this),U.call(this)}function qe(){const e=document.getElementById("app");e.innerHTML="<h1>Splash</h1>"}function $e(){const e=document.getElementById("app");e.innerHTML="<h1>Sign In</h1>"}function De(){const e=document.getElementById("app");e.innerHTML="<h1>Sign Up</h1>"}function We(){const e=document.getElementById("app");e.innerHTML="<h1>Home</h1>"}function Xe(){const e=document.getElementById("app");e.innerHTML="<h1>Reset Hash</h1>"}function ze(){const e=document.getElementById("app");e.innerHTML="<h1>Sign Out</h1>"}function Ke(){const e=document.getElementById("app");e.innerHTML="<h1>Forgot Password</h1>"}function Ve(){const e=document.getElementById("app");e.innerHTML="<h1>Reset Forgot Password</h1>"}function Qe(){const e=document.getElementById("app");e.innerHTML="<h1>Verification Link</h1>"}function K(e){var i,r,o;const n=document.getElementById("app");n.innerHTML=`
    <h1>Error</h1>
    <div style="margin-top: 20px;">
      <button id="testSignin">Go to Sign In</button>
      <button id="testHome">Go to Home</button>
      <button id="testSplash">Go to Splash</button>
    </div>
    <div style="margin-top: 20px;">
      <p>Current hash: <code>${window.location.hash}</code></p>
      <p>Current pathname: <code>${window.location.pathname}</code></p>
    </div>
  `,(i=document.getElementById("testSignin"))==null||i.addEventListener("click",()=>{console.log("Navigating to signin"),window.router&&window.router.navigate("/signin")}),(r=document.getElementById("testHome"))==null||r.addEventListener("click",()=>{console.log("Navigating to home"),window.router&&window.router.navigate("/home")}),(o=document.getElementById("testSplash"))==null||o.addEventListener("click",()=>{console.log("Navigating to /"),window.router&&window.router.navigate("/")})}function Ye(){const e=document.getElementById("app");e.innerHTML="<h1>Offline</h1>"}const A=new je("/patentbadge/login/",{hash:!0});console.log("Router initialized:",A);console.log("Initial hash:",window.location.hash);console.log("Initial pathname:",window.location.pathname);typeof mvvLegit<"u"&&(mvvLegit.init({BASE:"https://pcxdev-rest-gjkk.onrender.com"}),mvvLegit.setNavConroller((e=null)=>{if(e){console.log("mvvLegit navigation to:",e);const n=e.replace("_route","").replace("_","-");A.navigate(`/${n}`)}}),mvvLegit.setOnState((e=null)=>{e!==null&&console.log(`mvvLegit authentication state changed to: ${e}`)}));function g(e){if(typeof mvvLegit>"u")return!0;const n=e?`${e.replace("-","_")}_route`:"splash_route",i=mvvLegit.isRouteAllowed(n);return i||(console.log("Route blocked by mvvLegit:",n,"- redirecting to splash"),setTimeout(()=>{A.navigate("/")},0)),i}A.on({"/":()=>{console.log("Matched route: /"),g("splash")&&qe()},"/signin":()=>{console.log("Matched route: /signin"),g("signin")&&$e()},"/signup":()=>{console.log("Matched route: /signup"),g("signup")&&De()},"/home":()=>{console.log("Matched route: /home"),g("home")&&We()},"/resethash":()=>{console.log("Matched route: /resethash"),g("resethash")&&Xe()},"/signout":()=>{console.log("Matched route: /signout"),g("signout")&&ze()},"/forgot":()=>{console.log("Matched route: /forgot"),g("forgot")&&Ke()},"/resetforgot":()=>{console.log("Matched route: /resetforgot"),g("resetforgot")&&Ve()},"/verf-link":()=>{console.log("Matched route: /verf-link"),g("verf-link")&&Qe()},"/error":()=>{console.log("Matched route: /error"),g("error")&&K()},"/offline":()=>{console.log("Matched route: /offline"),g("offline")&&Ye()}}).notFound(()=>{console.log("No route matched - showing error"),K()}).resolve();window.router=A;
