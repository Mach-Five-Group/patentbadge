(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ut=/([:*])(\w+)/g,lt="([^/]+)",ft=/\*/g,ht="?(?:.*)",dt=/\/\?/g,pt="/?([^/]+|)",gt="(?:/^|^)",vt="";function ze(e){return e===void 0&&(e="/"),Le()?location.pathname+location.search+location.hash:e}function k(e){return e.replace(/\/+$/,"").replace(/^\/+/,"")}function he(e){return typeof e=="string"}function Et(e){return typeof e=="function"}function de(e){return e&&e.indexOf("#")>=0&&e.split("#").pop()||""}function Tt(e,n){return n.length===0||!e?null:e.slice(1,e.length).reduce(function(t,r,i){return t===null&&(t={}),t[n[i]]=decodeURIComponent(r),t},null)}function pe(e){var n=k(e).split(/\?(.*)?$/);return[k(n[0]),n.slice(1).join("")]}function Ye(e){for(var n={},t=e.split("&"),r=0;r<t.length;r++){var i=t[r].split("=");if(i[0]!==""){var o=decodeURIComponent(i[0]);n[o]?(Array.isArray(n[o])||(n[o]=[n[o]]),n[o].push(decodeURIComponent(i[1]||""))):n[o]=decodeURIComponent(i[1]||"")}}return n}function Qe(e,n){var t=pe(k(e.currentLocationPath)),r=t[0],i=t[1],o=i===""?null:Ye(i),s=[],f;if(he(n.path)){if(f=gt+k(n.path).replace(ut,function(y,p,m){return s.push(m),lt}).replace(ft,ht).replace(dt,pt)+"$",k(n.path)===""&&k(r)==="")return{url:r,queryString:i,hashString:de(e.to),route:n,data:null,params:o}}else f=n.path;var u=new RegExp(f,vt),v=r.match(u);if(v){var d=he(n.path)?Tt(v,s):v.groups?v.groups:v.slice(1);return{url:k(r.replace(new RegExp("^"+e.instance.root),"")),queryString:i,hashString:de(e.to),route:n,data:d,params:o}}return!1}function Ve(){return!!(typeof window<"u"&&window.history&&window.history.pushState)}function te(e,n){return typeof e[n]>"u"||e[n]===!0}function yt(e){if(!e)return{};var n=e.split(","),t={},r;return n.forEach(function(i){var o=i.split(":").map(function(s){return s.replace(/(^ +| +$)/g,"")});switch(o[0]){case"historyAPIMethod":t.historyAPIMethod=o[1];break;case"resolveOptionsStrategy":r||(r={}),r.strategy=o[1];break;case"resolveOptionsHash":r||(r={}),r.hash=o[1]==="true";break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":t[o[0]]=o[1]==="true";break}}),r&&(t.resolveOptions=r),t}function Le(){return typeof window<"u"}function _t(e,n){return e===void 0&&(e=[]),n===void 0&&(n={}),e.filter(function(t){return t}).forEach(function(t){["before","after","already","leave"].forEach(function(r){t[r]&&(n[r]||(n[r]=[]),n[r].push(t[r]))})}),n}function z(e,n,t){var r=n||{},i=0;(function o(){if(!e[i]){t&&t(r);return}Array.isArray(e[i])?(e.splice.apply(e,[i,1].concat(e[i][0](r)?e[i][1]:e[i][2])),o()):e[i](r,function(s){typeof s>"u"||s===!0?(i+=1,o()):t&&t(r)})})()}z.if=function(e,n,t){return Array.isArray(n)||(n=[n]),Array.isArray(t)||(t=[t]),[e,n,t]};function Ue(e,n){typeof e.currentLocationPath>"u"&&(e.currentLocationPath=e.to=ze(e.instance.root)),e.currentLocationPath=e.instance._checkForAHash(e.currentLocationPath),n()}function _e(e,n){for(var t=0;t<e.instance.routes.length;t++){var r=e.instance.routes[t],i=Qe(e,r);if(i&&(e.matches||(e.matches=[]),e.matches.push(i),e.resolveOptions.strategy==="ONE")){n();return}}n()}function mt(e,n){e.navigateOptions&&(typeof e.navigateOptions.shouldResolve<"u"&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),typeof e.navigateOptions.silent<"u"&&console.warn('"silent" is deprecated. Please check the documentation.')),n()}function Rt(e,n){e.navigateOptions.force===!0?(e.instance._setCurrent([e.instance._pathToMatchObject(e.to)]),n(!1)):n()}var Ke=Le(),At=Ve();function bt(e,n){if(te(e.navigateOptions,"updateBrowserURL")){var t=("/"+e.to).replace(/\/\//g,"/"),r=Ke&&e.resolveOptions&&e.resolveOptions.hash===!0;At?(history[e.navigateOptions.historyAPIMethod||"pushState"](e.navigateOptions.stateObj||{},e.navigateOptions.title||"",r?"#"+t:t),location&&location.hash&&(e.instance.__freezeListening=!0,setTimeout(function(){if(!r){var i=location.hash;location.hash="",location.hash=i}e.instance.__freezeListening=!1},1))):Ke&&(window.location.href=e.to)}n()}function Ze(e,n){var t=e.instance;if(!t.lastResolved()){n();return}z(t.lastResolved().map(function(r){return function(i,o){if(!r.route.hooks||!r.route.hooks.leave){o();return}var s=!1,f=e.instance.matchLocation(r.route.path,e.currentLocationPath,!1);if(r.route.path!=="*")s=!f;else{var u=e.matches?e.matches.find(function(v){return r.route.path===v.route.path}):!1;s=!u}if(te(e.navigateOptions,"callHooks")&&s){z(r.route.hooks.leave.map(function(v){return function(d,y){return v(function(p){p===!1?e.instance.__markAsClean(e):y()},e.matches&&e.matches.length>0?e.matches.length===1?e.matches[0]:e.matches:void 0)}}).concat([function(){return o()}]));return}else o()}}),{},function(){return n()})}function wt(e,n){e.match.route.hooks&&e.match.route.hooks.before&&te(e.navigateOptions,"callHooks")?z(e.match.route.hooks.before.map(function(t){return function(i,o){return t(function(s){s===!1?e.instance.__markAsClean(e):o()},e.match)}}).concat([function(){return n()}])):n()}function Ot(e,n){te(e.navigateOptions,"callHandler")&&e.match.route.handler(e.match),e.instance.updatePageLinks(),n()}function Pt(e,n){e.match.route.hooks&&e.match.route.hooks.after&&te(e.navigateOptions,"callHooks")&&e.match.route.hooks.after.forEach(function(t){return t(e.match)}),n()}function Nt(e,n){var t=e.instance.lastResolved();if(t&&t[0]&&t[0].route===e.match.route&&t[0].url===e.match.url&&t[0].queryString===e.match.queryString){t.forEach(function(r){r.route.hooks&&r.route.hooks.already&&te(e.navigateOptions,"callHooks")&&r.route.hooks.already.forEach(function(i){return i(e.match)})}),n(!1);return}n()}function St(e,n){var t=e.instance._notFoundRoute;if(t){e.notFoundHandled=!0;var r=pe(e.currentLocationPath),i=r[0],o=r[1],s=de(e.to);t.path=k(i);var f={url:t.path,queryString:o,hashString:s,data:null,route:t,params:o!==""?Ye(o):null};e.matches=[f],e.match=f}n()}function Yt(e,n){(!e.resolveOptions||e.resolveOptions.noMatchWarning===!1||typeof e.resolveOptions.noMatchWarning>"u")&&console.warn('Navigo: "'+e.currentLocationPath+`" didn't match any of the registered routes.`),n()}function Lt(e,n){e.instance._setCurrent(null),n()}function et(e,n){te(e.navigateOptions,"updateState")&&e.instance._setCurrent(e.matches),n()}var tt=[Nt,wt,Ot,Pt],Ge=[Ze,St,z.if(function(e){var n=e.notFoundHandled;return n},tt.concat([et]),[Yt,Lt])];function Ae(){return Ae=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ae.apply(this,arguments)}function xe(e,n){var t=0;function r(){if(t===e.matches.length){et(e,n);return}z(tt,Ae({},e,{match:e.matches[t]}),function(){t+=1,r()})}Ze(e,r)}function me(e){e.instance.__markAsClean(e)}function be(){return be=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},be.apply(this,arguments)}var je="[data-navigo]";function Bt(e,n){var t=n||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:je},r=this,i="/",o=null,s=[],f=!1,u,v=Ve(),d=Le();e?i=k(e):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.');function y(a){return a.indexOf("#")>=0&&(t.hash===!0?a=a.split("#")[1]||"/":a=a.split("#")[0]),a}function p(a){return k(i+"/"+k(a))}function m(a,h,A,O){return a=he(a)?p(a):a,{name:O||k(String(a)),path:a,handler:h,hooks:_t(A)}}function L(a,h,A){var O=this;return typeof a=="object"&&!(a instanceof RegExp)?(Object.keys(a).forEach(function(R){if(typeof a[R]=="function")O.on(R,a[R]);else{var S=a[R],J=S.uses,le=S.as,ie=S.hooks;s.push(m(R,J,[u,ie],le))}}),this):(typeof a=="function"&&(A=h,h=a,a=i),s.push(m(a,h,[u,A])),this)}function l(a,h){if(r.__dirty){r.__waiting.push(function(){return r.resolve(a,h)});return}else r.__dirty=!0;a=a?k(i)+"/"+k(a):void 0;var A={instance:r,to:a,currentLocationPath:a,navigateOptions:{},resolveOptions:be({},t,h)};return z([Ue,_e,z.if(function(O){var R=O.matches;return R&&R.length>0},xe,Ge)],A,me),A.matches?A.matches:!1}function g(a,h){if(r.__dirty){r.__waiting.push(function(){return r.navigate(a,h)});return}else r.__dirty=!0;a=k(i)+"/"+k(a);var A={instance:r,to:a,navigateOptions:h||{},resolveOptions:h&&h.resolveOptions?h.resolveOptions:t,currentLocationPath:y(a)};z([mt,Rt,_e,z.if(function(O){var R=O.matches;return R&&R.length>0},xe,Ge),bt,me],A,me)}function E(a,h,A){var O=D(a,h);return O!==null?(g(O.replace(new RegExp("^/?"+i),""),A),!0):!1}function w(a){return this.routes=s=s.filter(function(h){return he(a)?k(h.path)!==k(a):Et(a)?a!==h.handler:String(h.path)!==String(a)}),this}function P(){v&&(this.__popstateListener=function(){r.__freezeListening||l()},window.addEventListener("popstate",this.__popstateListener))}function N(){this.routes=s=[],v&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=f=!0}function Y(a,h){return r._notFoundRoute=m("*",a,[u,h],"__NOT_FOUND__"),this}function B(){if(d)return M().forEach(function(a){if(a.getAttribute("data-navigo")==="false"||a.getAttribute("target")==="_blank"){a.hasListenerAttached&&a.removeEventListener("click",a.navigoHandler);return}a.hasListenerAttached||(a.hasListenerAttached=!0,a.navigoHandler=function(h){if((h.ctrlKey||h.metaKey)&&h.target.tagName.toLowerCase()==="a")return!1;var A=a.getAttribute("href");if(typeof A>"u"||A===null)return!1;if(A.match(/^(http|https)/)&&typeof URL<"u")try{var O=new URL(A);A=O.pathname+O.search}catch{}var R=yt(a.getAttribute("data-navigo-options"));f||(h.preventDefault(),h.stopPropagation(),r.navigate(k(A),R))},a.addEventListener("click",a.navigoHandler))}),r}function M(){return d?[].slice.call(document.querySelectorAll(t.linksSelector||je)):[]}function b(a){return"/"+i+"/"+k(a)}function _(a){return u=a,this}function U(){return o}function D(a,h,A){var O=s.find(function(J){return J.name===a}),R=null;if(O){if(R=O.path,h)for(var S in h)R=R.replace(":"+S,h[S]);R=R.match(/^\//)?R:"/"+R}return R&&A&&!A.includeRoot&&(R=R.replace(new RegExp("^/"+i),"")),R}function F(a){return a.getAttribute("href")}function Q(a){var h=pe(k(a)),A=h[0],O=h[1],R=O===""?null:Ye(O),S=de(a),J=m(A,function(){},[u],A);return{url:A,queryString:O,hashString:S,route:J,data:null,params:R}}function G(){return Q(k(ze(i)).replace(new RegExp("^"+i),""))}function x(a){var h={instance:r,currentLocationPath:a,to:a,resolveOptions:t};return _e(h,function(){}),h.matches?h.matches:!1}function $(a,h,A){typeof h<"u"&&(typeof A>"u"||A)&&(h=p(h));var O={instance:r,to:h,currentLocationPath:h};Ue(O,function(){}),typeof a=="string"&&(a=typeof A>"u"||A?p(a):a);var R=Qe(O,{name:String(a),path:a,handler:function(){},hooks:{}});return R||!1}function C(a,h,A){return typeof h=="string"&&(h=K(h)),h?(h.hooks[a]||(h.hooks[a]=[]),h.hooks[a].push(A),function(){h.hooks[a]=h.hooks[a].filter(function(O){return O!==A})}):(console.warn("Route doesn't exists: "+h),function(){})}function K(a){return typeof a=="string"?s.find(function(h){return h.name===p(a)}):s.find(function(h){return h.handler===a})}function W(a){a.instance.__dirty=!1,a.instance.__waiting.length>0&&a.instance.__waiting.shift()()}this.root=i,this.routes=s,this.destroyed=f,this.current=o,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=W,this.on=L,this.off=w,this.resolve=l,this.navigate=g,this.navigateByName=E,this.destroy=N,this.notFound=Y,this.updatePageLinks=B,this.link=b,this.hooks=_,this.extractGETParameters=function(a){return pe(y(a))},this.lastResolved=U,this.generate=D,this.getLinkPath=F,this.match=x,this.matchLocation=$,this.getCurrentLocation=G,this.addBeforeHook=C.bind(this,"before"),this.addAfterHook=C.bind(this,"after"),this.addAlreadyHook=C.bind(this,"already"),this.addLeaveHook=C.bind(this,"leave"),this.getRoute=K,this._pathToMatchObject=Q,this._clean=k,this._checkForAHash=y,this._setCurrent=function(a){return o=r.current=a},P.call(this),B.call(this)}let ge={features:{ENV:"DEV",DEV:{FF_BASE_URI:"https://pcxdev-rest-gjkk.onrender.com"},QA:{FF_BASE_URI:""},PROD:{FF_BASE_URI:""}}};var Mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ae={exports:{}},Ft=ae.exports,He;function kt(){return He||(He=1,(function(e,n){(function(t,r){var i={};t.PubSub?(i=t.PubSub,console.warn("PubSub already loaded, using existing version")):(t.PubSub=i,r(i)),e!==void 0&&e.exports&&(n=e.exports=i),n.PubSub=i,e.exports=n=i})(typeof window=="object"&&window||Ft||Mt,function(t){var r={},i=-1,o="*";function s(l){var g;for(g in l)if(Object.prototype.hasOwnProperty.call(l,g))return!0;return!1}function f(l){return function(){throw l}}function u(l,g,E){try{l(g,E)}catch(w){setTimeout(f(w),0)}}function v(l,g,E){l(g,E)}function d(l,g,E,w){var P=r[g],N=w?v:u,Y;if(Object.prototype.hasOwnProperty.call(r,g))for(Y in P)Object.prototype.hasOwnProperty.call(P,Y)&&N(P[Y],l,E)}function y(l,g,E){return function(){var P=String(l),N=P.lastIndexOf(".");for(d(l,l,g,E);N!==-1;)P=P.substr(0,N),N=P.lastIndexOf("."),d(l,P,g,E);d(l,o,g,E)}}function p(l){var g=String(l),E=!!(Object.prototype.hasOwnProperty.call(r,g)&&s(r[g]));return E}function m(l){for(var g=String(l),E=p(g)||p(o),w=g.lastIndexOf(".");!E&&w!==-1;)g=g.substr(0,w),w=g.lastIndexOf("."),E=p(g);return E}function L(l,g,E,w){l=typeof l=="symbol"?l.toString():l;var P=y(l,g,w),N=m(l);return N?(E===!0?P():setTimeout(P,0),!0):!1}t.publish=function(l,g){return L(l,g,!1,t.immediateExceptions)},t.publishSync=function(l,g){return L(l,g,!0,t.immediateExceptions)},t.subscribe=function(l,g){if(typeof g!="function")return!1;l=typeof l=="symbol"?l.toString():l,Object.prototype.hasOwnProperty.call(r,l)||(r[l]={});var E="uid_"+String(++i);return r[l][E]=g,E},t.subscribeAll=function(l){return t.subscribe(o,l)},t.subscribeOnce=function(l,g){var E=t.subscribe(l,function(){t.unsubscribe(E),g.apply(this,arguments)});return t},t.clearAllSubscriptions=function(){r={}},t.clearSubscriptions=function(g){var E;for(E in r)Object.prototype.hasOwnProperty.call(r,E)&&E.indexOf(g)===0&&delete r[E]},t.countSubscriptions=function(g){var E,w,P=0;for(E in r)if(Object.prototype.hasOwnProperty.call(r,E)&&E.indexOf(g)===0){for(w in r[E])P++;break}return P},t.getSubscriptions=function(g){var E,w=[];for(E in r)Object.prototype.hasOwnProperty.call(r,E)&&E.indexOf(g)===0&&w.push(E);return w},t.unsubscribe=function(l){var g=function(b){var _;for(_ in r)if(Object.prototype.hasOwnProperty.call(r,_)&&_.indexOf(b)===0)return!0;return!1},E=typeof l=="string"&&(Object.prototype.hasOwnProperty.call(r,l)||g(l)),w=!E&&typeof l=="string",P=typeof l=="function",N=!1,Y,B,M;if(E){t.clearSubscriptions(l);return}for(Y in r)if(Object.prototype.hasOwnProperty.call(r,Y)){if(B=r[Y],w&&B[l]){delete B[l],N=l;break}if(P)for(M in B)Object.prototype.hasOwnProperty.call(B,M)&&B[M]===l&&(delete B[M],N=!0)}return N}})})(ae,ae.exports)),ae.exports}var Ct=kt();const ne=It(Ct),q=class q{static getTJO(){if(this.jsTJO)return this.jsTJO;let n=localStorage.getItem("tjo");return n&&(this.jsTJO=JSON.parse(n)),this.jsTJO}static setTJO(n){return n?localStorage.setItem("tjo",JSON.stringify(n)):localStorage.clear("tjo"),this.jsTJO=n}static setStateSignout(){typeof neodigmWired4Sound<"u"&&neodigmWired4Sound.sound(11),q.setTJO(null),location.reload()}static async doSignin(n,t=null){const r={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},o=await(await fetch(this.API_baseURI+"/m5t/"+this.API_ver+"/acctEntity/signin",r)).json();o.ok?(typeof mvvLegit<"u"&&mvvLegit&&(o!=null&&o.accessToken)&&mvvLegit.doSignin(o==null?void 0:o.accessToken),t&&t(o)):typeof neodigmToast<"u"&&neodigmToast.q("Invalid User ID|Password")}static async doSignup(n,t=null){const r={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},o=await(await fetch(this.API_baseURI+"/m5t/"+this.API_ver+"/acctEntity",r)).json();if(o.ok)typeof neodigmToast<"u"&&neodigmToast.q("Account created successfully!|Please sign in","success"),t&&t(o);else{const s=(o==null?void 0:o.error)||(o==null?void 0:o.message)||"Signup failed. Please try again.";typeof neodigmToast<"u"&&neodigmToast.q(s,"danger"),t&&t(o)}}static async resetHash(n,t,r=null){typeof neodigmAgent<"u"?neodigmAgent.genChronSync():Date.now();const i=typeof neodigmUtils<"u"?neodigmUtils.genHash(t):t,o={method:"POST",body:JSON.stringify({guid:n,hash:i}),headers:q.genHeaders()},f=await(await fetch(this.API_baseURI+this.API_ver+"/acct/resetHash",o)).json();r&&r(f)}static genHeaders(n={}){var r,i,o,s,f,u,v,d,y;let t={};return t.protomolecule=typeof neodigmAgent<"u"?neodigmAgent.genChronSync():Date.now(),t.Authorization="Bearer expired",t["Content-Type"]="application/json",q.getTJO()&&(t.Authorization="Bearer "+q.getTJO().tokens[0]),typeof SessionAcctEntity<"u"&&SessionAcctEntity&&((o=(i=(r=SessionAcctEntity.oEntities)==null?void 0:r.data)==null?void 0:i.entity)!=null&&o.class)&&(t.role=SessionAcctEntity.oEntities.data.entity.class),typeof SessionAcctEntity<"u"&&SessionAcctEntity&&((u=(f=(s=SessionAcctEntity.oEntities)==null?void 0:s.data)==null?void 0:f.entity)!=null&&u.guid)&&(t.guid=SessionAcctEntity.oEntities.data.entity.guid),typeof SessionAcctEntity<"u"&&SessionAcctEntity&&((y=(d=(v=SessionAcctEntity.oEntities)==null?void 0:v.data)==null?void 0:d.entity)!=null&&y.company)&&(t.company=SessionAcctEntity.oEntities.data.entity.company),t}static async fetchPatents(n=null){const t={method:"GET",headers:q.genHeaders()},i=await(await fetch(this.API_baseURI+"/m5t/"+this.API_ver+"/corePatents",t)).json();return n&&n(i),i}};q.API_baseURI=ge.features[ge.features.ENV].FF_BASE_URI,q.API_ver="v5",q.jsState={},q.jsMeta={},q.jsTJO=null;let we=q;const re=e=>e!==null&&Object.prototype.toString.call(e)==="[object Object]",ve=(e,n)=>{if(e===n)return!0;if(typeof e!=typeof n)return!1;if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t+=1)if(!ve(e[t],n[t]))return!1;return!0}if(re(e)&&re(n)){const t=Object.entries(e),r=new Set(Object.keys(n));if(t.length!==r.size)return!1;for(const[i,o]of t){if(!ve(o,n[i]))return!1;r.delete(i)}return r.size===0}return!1},fe=e=>{if(e===""||e===!1||e===null||e===void 0||Array.isArray(e)&&e.length===0)return!0;if(re(e)){for(const n in e)if(e.hasOwnProperty(n))return!1;return!0}return!1};var T;(function(e){e.TOK_EOF="EOF",e.TOK_UNQUOTEDIDENTIFIER="UnquotedIdentifier",e.TOK_QUOTEDIDENTIFIER="QuotedIdentifier",e.TOK_RBRACKET="Rbracket",e.TOK_RPAREN="Rparen",e.TOK_COMMA="Comma",e.TOK_COLON="Colon",e.TOK_RBRACE="Rbrace",e.TOK_NUMBER="Number",e.TOK_CURRENT="Current",e.TOK_ROOT="Root",e.TOK_EXPREF="Expref",e.TOK_PIPE="Pipe",e.TOK_OR="Or",e.TOK_AND="And",e.TOK_EQ="EQ",e.TOK_GT="GT",e.TOK_LT="LT",e.TOK_GTE="GTE",e.TOK_LTE="LTE",e.TOK_NE="NE",e.TOK_FLATTEN="Flatten",e.TOK_STAR="Star",e.TOK_FILTER="Filter",e.TOK_DOT="Dot",e.TOK_NOT="Not",e.TOK_LBRACE="Lbrace",e.TOK_LBRACKET="Lbracket",e.TOK_LPAREN="Lparen",e.TOK_LITERAL="Literal"})(T||(T={}));T.TOK_LPAREN,T.TOK_RPAREN,T.TOK_STAR,T.TOK_COMMA,T.TOK_DOT,T.TOK_COLON,T.TOK_CURRENT,T.TOK_ROOT,T.TOK_RBRACKET,T.TOK_LBRACE,T.TOK_RBRACE;T.TOK_EOF+"",T.TOK_UNQUOTEDIDENTIFIER+"",T.TOK_QUOTEDIDENTIFIER+"",T.TOK_RBRACKET+"",T.TOK_RPAREN+"",T.TOK_COMMA+"",T.TOK_RBRACE+"",T.TOK_NUMBER+"",T.TOK_CURRENT+"",T.TOK_EXPREF+"",T.TOK_ROOT+"",T.TOK_PIPE+"",T.TOK_OR+"",T.TOK_AND+"",T.TOK_EQ+"",T.TOK_GT+"",T.TOK_LT+"",T.TOK_GTE+"",T.TOK_LTE+"",T.TOK_NE+"",T.TOK_FLATTEN+"",T.TOK_STAR+"",T.TOK_FILTER+"",T.TOK_DOT+"",T.TOK_NOT+"",T.TOK_LBRACE+"",T.TOK_LBRACKET+"",T.TOK_LPAREN+"";var c;(function(e){e[e.TYPE_NUMBER=0]="TYPE_NUMBER",e[e.TYPE_ANY=1]="TYPE_ANY",e[e.TYPE_STRING=2]="TYPE_STRING",e[e.TYPE_ARRAY=3]="TYPE_ARRAY",e[e.TYPE_OBJECT=4]="TYPE_OBJECT",e[e.TYPE_BOOLEAN=5]="TYPE_BOOLEAN",e[e.TYPE_EXPREF=6]="TYPE_EXPREF",e[e.TYPE_NULL=7]="TYPE_NULL",e[e.TYPE_ARRAY_NUMBER=8]="TYPE_ARRAY_NUMBER",e[e.TYPE_ARRAY_STRING=9]="TYPE_ARRAY_STRING"})(c||(c={}));class Ut{constructor(n){this.TYPE_NAME_TABLE={[c.TYPE_NUMBER]:"number",[c.TYPE_ANY]:"any",[c.TYPE_STRING]:"string",[c.TYPE_ARRAY]:"array",[c.TYPE_OBJECT]:"object",[c.TYPE_BOOLEAN]:"boolean",[c.TYPE_EXPREF]:"expression",[c.TYPE_NULL]:"null",[c.TYPE_ARRAY_NUMBER]:"Array<number>",[c.TYPE_ARRAY_STRING]:"Array<string>"},this.functionAbs=([t])=>Math.abs(t),this.functionAvg=([t])=>{let r=0;for(let i=0;i<t.length;i+=1)r+=t[i];return r/t.length},this.functionCeil=([t])=>Math.ceil(t),this.functionContains=t=>{const[r,i]=t;return r.includes(i)},this.functionEndsWith=t=>{const[r,i]=t;return r.includes(i,r.length-i.length)},this.functionFloor=([t])=>Math.floor(t),this.functionJoin=t=>{const[r,i]=t;return i.join(r)},this.functionKeys=([t])=>Object.keys(t),this.functionLength=([t])=>re(t)?Object.keys(t).length:t.length,this.functionMap=t=>{if(!this._interpreter)return[];const r=[],i=this._interpreter,o=t[0],s=t[1];for(let f=0;f<s.length;f+=1)r.push(i.visit(o,s[f]));return r},this.functionMax=([t])=>{if(!t.length)return null;if(this.getTypeName(t[0])===c.TYPE_NUMBER)return Math.max(...t);const i=t;let o=i[0];for(let s=1;s<i.length;s+=1)o.localeCompare(i[s])<0&&(o=i[s]);return o},this.functionMaxBy=t=>{const r=t[1],i=t[0],o=this.createKeyFunction(r,[c.TYPE_NUMBER,c.TYPE_STRING]);let s=-1/0,f,u;for(let v=0;v<i.length;v+=1)u=o&&o(i[v]),u!==void 0&&u>s&&(s=u,f=i[v]);return f},this.functionMerge=t=>{let r={};for(let i=0;i<t.length;i+=1){const o=t[i];r=Object.assign(r,o)}return r},this.functionMin=([t])=>{if(!t.length)return null;if(this.getTypeName(t[0])===c.TYPE_NUMBER)return Math.min(...t);const i=t;let o=i[0];for(let s=1;s<i.length;s+=1)i[s].localeCompare(o)<0&&(o=i[s]);return o},this.functionMinBy=t=>{const r=t[1],i=t[0],o=this.createKeyFunction(r,[c.TYPE_NUMBER,c.TYPE_STRING]);let s=1/0,f,u;for(let v=0;v<i.length;v+=1)u=o&&o(i[v]),u!==void 0&&u<s&&(s=u,f=i[v]);return f},this.functionNotNull=t=>{for(let r=0;r<t.length;r+=1)if(this.getTypeName(t[r])!==c.TYPE_NULL)return t[r];return null},this.functionReverse=([t])=>{if(this.getTypeName(t)===c.TYPE_STRING){const o=t;let s="";for(let f=o.length-1;f>=0;f-=1)s+=o[f];return s}const i=t.slice(0);return i.reverse(),i},this.functionSort=([t])=>[...t].sort(),this.functionSortBy=t=>{if(!this._interpreter)return[];const r=t[0].slice(0);if(r.length===0)return r;const i=this._interpreter,o=t[1],s=this.getTypeName(i.visit(o,r[0]));if(s!==void 0&&![c.TYPE_NUMBER,c.TYPE_STRING].includes(s))throw new Error(`TypeError: unexpected type (${this.TYPE_NAME_TABLE[s]})`);const f=[];for(let u=0;u<r.length;u+=1)f.push([u,r[u]]);f.sort((u,v)=>{const d=i.visit(o,u[1]),y=i.visit(o,v[1]);if(this.getTypeName(d)!==s)throw new Error(`TypeError: expected (${this.TYPE_NAME_TABLE[s]}), received ${this.TYPE_NAME_TABLE[this.getTypeName(d)]}`);if(this.getTypeName(y)!==s)throw new Error(`TypeError: expected (${this.TYPE_NAME_TABLE[s]}), received ${this.TYPE_NAME_TABLE[this.getTypeName(y)]}`);return d>y?1:d<y?-1:u[0]-v[0]});for(let u=0;u<f.length;u+=1)r[u]=f[u][1];return r},this.functionStartsWith=([t,r])=>t.startsWith(r),this.functionSum=([t])=>t.reduce((r,i)=>r+i,0),this.functionToArray=([t])=>this.getTypeName(t)===c.TYPE_ARRAY?t:[t],this.functionToNumber=([t])=>{const r=this.getTypeName(t);let i;return r===c.TYPE_NUMBER?t:r===c.TYPE_STRING&&(i=+t,!isNaN(i))?i:null},this.functionToString=([t])=>this.getTypeName(t)===c.TYPE_STRING?t:JSON.stringify(t),this.functionType=([t])=>{switch(this.getTypeName(t)){case c.TYPE_NUMBER:return"number";case c.TYPE_STRING:return"string";case c.TYPE_ARRAY:return"array";case c.TYPE_OBJECT:return"object";case c.TYPE_BOOLEAN:return"boolean";case c.TYPE_EXPREF:return"expref";case c.TYPE_NULL:return"null";default:return}},this.functionValues=([t])=>Object.values(t),this.functionTable={abs:{_func:this.functionAbs,_signature:[{types:[c.TYPE_NUMBER]}]},avg:{_func:this.functionAvg,_signature:[{types:[c.TYPE_ARRAY_NUMBER]}]},ceil:{_func:this.functionCeil,_signature:[{types:[c.TYPE_NUMBER]}]},contains:{_func:this.functionContains,_signature:[{types:[c.TYPE_STRING,c.TYPE_ARRAY]},{types:[c.TYPE_ANY]}]},ends_with:{_func:this.functionEndsWith,_signature:[{types:[c.TYPE_STRING]},{types:[c.TYPE_STRING]}]},floor:{_func:this.functionFloor,_signature:[{types:[c.TYPE_NUMBER]}]},join:{_func:this.functionJoin,_signature:[{types:[c.TYPE_STRING]},{types:[c.TYPE_ARRAY_STRING]}]},keys:{_func:this.functionKeys,_signature:[{types:[c.TYPE_OBJECT]}]},length:{_func:this.functionLength,_signature:[{types:[c.TYPE_STRING,c.TYPE_ARRAY,c.TYPE_OBJECT]}]},map:{_func:this.functionMap,_signature:[{types:[c.TYPE_EXPREF]},{types:[c.TYPE_ARRAY]}]},max:{_func:this.functionMax,_signature:[{types:[c.TYPE_ARRAY_NUMBER,c.TYPE_ARRAY_STRING]}]},max_by:{_func:this.functionMaxBy,_signature:[{types:[c.TYPE_ARRAY]},{types:[c.TYPE_EXPREF]}]},merge:{_func:this.functionMerge,_signature:[{types:[c.TYPE_OBJECT],variadic:!0}]},min:{_func:this.functionMin,_signature:[{types:[c.TYPE_ARRAY_NUMBER,c.TYPE_ARRAY_STRING]}]},min_by:{_func:this.functionMinBy,_signature:[{types:[c.TYPE_ARRAY]},{types:[c.TYPE_EXPREF]}]},not_null:{_func:this.functionNotNull,_signature:[{types:[c.TYPE_ANY],variadic:!0}]},reverse:{_func:this.functionReverse,_signature:[{types:[c.TYPE_STRING,c.TYPE_ARRAY]}]},sort:{_func:this.functionSort,_signature:[{types:[c.TYPE_ARRAY_STRING,c.TYPE_ARRAY_NUMBER]}]},sort_by:{_func:this.functionSortBy,_signature:[{types:[c.TYPE_ARRAY]},{types:[c.TYPE_EXPREF]}]},starts_with:{_func:this.functionStartsWith,_signature:[{types:[c.TYPE_STRING]},{types:[c.TYPE_STRING]}]},sum:{_func:this.functionSum,_signature:[{types:[c.TYPE_ARRAY_NUMBER]}]},to_array:{_func:this.functionToArray,_signature:[{types:[c.TYPE_ANY]}]},to_number:{_func:this.functionToNumber,_signature:[{types:[c.TYPE_ANY]}]},to_string:{_func:this.functionToString,_signature:[{types:[c.TYPE_ANY]}]},type:{_func:this.functionType,_signature:[{types:[c.TYPE_ANY]}]},values:{_func:this.functionValues,_signature:[{types:[c.TYPE_OBJECT]}]}},this._interpreter=n}registerFunction(n,t,r){if(n in this.functionTable)throw new Error(`Function already defined: ${n}()`);this.functionTable[n]={_func:t.bind(this),_signature:r}}callFunction(n,t){const r=this.functionTable[n];if(r===void 0)throw new Error(`Unknown function: ${n}()`);return this.validateArgs(n,t,r._signature),r._func.call(this,t)}validateInputSignatures(n,t){for(let r=0;r<t.length;r+=1)if("variadic"in t[r]&&r!==t.length-1)throw new Error(`ArgumentError: ${n}() 'variadic' argument ${r+1} must occur last`)}validateArgs(n,t,r){var i,o;let s;this.validateInputSignatures(n,r);const f=r.filter(l=>{var g;return(g=!l.optional)!==null&&g!==void 0?g:!1}).length,u=(o=(i=r[r.length-1])===null||i===void 0?void 0:i.variadic)!==null&&o!==void 0?o:!1,v=t.length<f,d=t.length>r.length,y=v&&(!u&&f>1||u)?"at least ":"";if(u&&v||!u&&(v||d))throw s=r.length>1,new Error(`ArgumentError: ${n}() takes ${y}${f} argument${s&&"s"||""} but received ${t.length}`);let p,m,L;for(let l=0;l<r.length;l+=1){L=!1,p=r[l].types,m=this.getTypeName(t[l]);let g;for(g=0;g<p.length;g+=1)if(m!==void 0&&this.typeMatches(m,p[g],t[l])){L=!0;break}if(!L&&m!==void 0){const E=p.map(w=>this.TYPE_NAME_TABLE[w]).join(" | ");throw new Error(`TypeError: ${n}() expected argument ${l+1} to be type (${E}) but received type ${this.TYPE_NAME_TABLE[m]} instead.`)}}}typeMatches(n,t,r){if(t===c.TYPE_ANY)return!0;if(t===c.TYPE_ARRAY_STRING||t===c.TYPE_ARRAY_NUMBER||t===c.TYPE_ARRAY){if(t===c.TYPE_ARRAY)return n===c.TYPE_ARRAY;if(n===c.TYPE_ARRAY){let i;t===c.TYPE_ARRAY_NUMBER?i=c.TYPE_NUMBER:t===c.TYPE_ARRAY_STRING&&(i=c.TYPE_STRING);for(let o=0;o<r.length;o+=1){const s=this.getTypeName(r[o]);if(s!==void 0&&i!==void 0&&!this.typeMatches(s,i,r[o]))return!1}return!0}}else return n===t;return!1}getTypeName(n){switch(Object.prototype.toString.call(n)){case"[object String]":return c.TYPE_STRING;case"[object Number]":return c.TYPE_NUMBER;case"[object Array]":return c.TYPE_ARRAY;case"[object Boolean]":return c.TYPE_BOOLEAN;case"[object Null]":return c.TYPE_NULL;case"[object Object]":return n.jmespathType===T.TOK_EXPREF?c.TYPE_EXPREF:c.TYPE_OBJECT;default:return}}createKeyFunction(n,t){if(!this._interpreter)return;const r=this._interpreter;return o=>{const s=r.visit(n,o);if(!t.includes(this.getTypeName(s))){const f=`TypeError: expected one of (${t.map(u=>this.TYPE_NAME_TABLE[u]).join(" | ")}), received ${this.TYPE_NAME_TABLE[this.getTypeName(s)]}`;throw new Error(f)}return s}}}class Kt{constructor(){this._rootValue=null,this.runtime=new Ut(this)}search(n,t){return this._rootValue=t,this.visit(n,t)}visit(n,t){let r,i,o,s,f,u,v,d,y,p,m;switch(n.type){case"Field":return t===null?null:re(t)?(u=t[n.name],u===void 0?null:u):null;case"Subexpression":for(o=this.visit(n.children[0],t),p=1;p<n.children.length;p+=1)if(o=this.visit(n.children[1],o),o===null)return null;return o;case"IndexExpression":return v=this.visit(n.children[0],t),d=this.visit(n.children[1],v),d;case"Index":if(!Array.isArray(t))return null;let L=n.value;return L<0&&(L=t.length+L),o=t[L],o===void 0&&(o=null),o;case"Slice":if(!Array.isArray(t))return null;const l=[...n.children],g=this.computeSliceParams(t.length,l),[E,w,P]=g;if(o=[],P>0)for(p=E;p<w;p+=P)o.push(t[p]);else for(p=E;p>w;p+=P)o.push(t[p]);return o;case"Projection":if(m=this.visit(n.children[0],t),!Array.isArray(m))return null;for(y=[],p=0;p<m.length;p+=1)i=this.visit(n.children[1],m[p]),i!==null&&y.push(i);return y;case"ValueProjection":if(m=this.visit(n.children[0],t),!re(m))return null;y=[];const N=Object.values(m);for(p=0;p<N.length;p+=1)i=this.visit(n.children[1],N[p]),i!==null&&y.push(i);return y;case"FilterProjection":if(m=this.visit(n.children[0],t),!Array.isArray(m))return null;const Y=[],B=[];for(p=0;p<m.length;p+=1)r=this.visit(n.children[2],m[p]),fe(r)||Y.push(m[p]);for(let F=0;F<Y.length;F+=1)i=this.visit(n.children[1],Y[F]),i!==null&&B.push(i);return B;case"Comparator":switch(s=this.visit(n.children[0],t),f=this.visit(n.children[1],t),n.name){case T.TOK_EQ:o=ve(s,f);break;case T.TOK_NE:o=!ve(s,f);break;case T.TOK_GT:o=s>f;break;case T.TOK_GTE:o=s>=f;break;case T.TOK_LT:o=s<f;break;case T.TOK_LTE:o=s<=f;break;default:throw new Error(`Unknown comparator: ${n.name}`)}return o;case T.TOK_FLATTEN:const M=this.visit(n.children[0],t);if(!Array.isArray(M))return null;let b=[];for(p=0;p<M.length;p+=1)i=M[p],Array.isArray(i)?b=[...b,...i]:b.push(i);return b;case"Identity":return t;case"MultiSelectList":if(t===null)return null;for(y=[],p=0;p<n.children.length;p+=1)y.push(this.visit(n.children[p],t));return y;case"MultiSelectHash":if(t===null)return null;y={};let _;for(p=0;p<n.children.length;p+=1)_=n.children[p],y[_.name]=this.visit(_.value,t);return y;case"OrExpression":return r=this.visit(n.children[0],t),fe(r)&&(r=this.visit(n.children[1],t)),r;case"AndExpression":return s=this.visit(n.children[0],t),fe(s)?s:this.visit(n.children[1],t);case"NotExpression":return s=this.visit(n.children[0],t),fe(s);case"Literal":return n.value;case T.TOK_PIPE:return v=this.visit(n.children[0],t),this.visit(n.children[1],v);case T.TOK_CURRENT:return t;case T.TOK_ROOT:return this._rootValue;case"Function":const U=[];for(let F=0;F<n.children.length;F+=1)U.push(this.visit(n.children[F],t));return this.runtime.callFunction(n.name,U);case"ExpressionReference":const D=n.children[0];return D.jmespathType=T.TOK_EXPREF,D;default:throw new Error(`Unknown node type: ${n.type}`)}}computeSliceParams(n,t){let[r,i,o]=t;if(o===null)o=1;else if(o===0){const f=new Error("Invalid slice, step cannot be 0");throw f.name="RuntimeError",f}const s=o<0;return r=r===null?s?n-1:0:this.capSliceRange(n,r,o),i=i===null?s?-1:n:this.capSliceRange(n,i,o),[r,i,o]}capSliceRange(n,t,r){let i=t;return i<0?(i+=n,i<0&&(i=r<0?-1:0)):i>=n&&(i=r<0?n-1:n),i}}new Kt;c.TYPE_ANY;c.TYPE_ARRAY;c.TYPE_ARRAY_NUMBER;c.TYPE_ARRAY_STRING;c.TYPE_BOOLEAN;c.TYPE_EXPREF;c.TYPE_NULL;c.TYPE_NUMBER;c.TYPE_OBJECT;c.TYPE_STRING;const Gt={bindAppListeners(e){ne.subscribe("APP",(n,t)=>{console.warn("~~ sub all APP | "+n+"|"+t)}),ne.subscribe("WC",(n,t)=>{console.warn("~~ sub all WC  | "+n+"|"+t)}),ne.subscribe("ROUTE",(n,t)=>{console.warn("~~ sub all ROUTE  | "+n+"|"+t)})}};class xt extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.buttons=[],this.selectedToken=null}connectedCallback(){this.parseButtons(),this.render(),this.attachEventListeners()}parseButtons(){var t;const n=this.getAttribute("data-primary-nav-buttons");if(n)try{this.buttons=JSON.parse(n);const r=this.buttons.find(i=>i.selected);this.selectedToken=r?r.token:((t=this.buttons[0])==null?void 0:t.token)||null}catch(r){console.error("Error parsing nav buttons:",r),this.buttons=[]}}render(){window.matchMedia("(max-width: 768px)").matches;const t=window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape",r=this.buttons.filter(o=>o.enabled?o.viewport?o.viewport.includes(t):!0:!1),i=r.map((o,s)=>`btn${s}`).join(" ");this.shadowRoot.innerHTML=`
      <style>
        :host {
          display: block;
          position: sticky;
          top: 16px;
          z-index: 1000;
          width: 100%;
          max-width: calc(100vw - 32px);
          margin-left: auto !important;
          margin-right: auto !important;
        }

        .nav-container {
          display: grid;
          grid-template-areas: "logo ${i}";
          grid-template-columns: 66px repeat(${r.length}, 1fr);
          height: 66px;
          background-color: var(--paper, #F9F8F5);
          backdrop-filter: blur(10px);
          border: 2px solid var(--navy, #243447);
          border-radius: 24px;
          box-shadow: 0 4px 12px rgba(30, 42, 54, 0.15);
          overflow: hidden;
        }

        .logo {
          grid-area: logo;
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: var(--font-display, 'Roboto Slab', serif);
          font-size: 1.1rem;
          font-weight: 700;
          color: var(--navy, #243447);
          border-right: 2px solid var(--line, #E3E3DF);
        }

        .nav-button {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          background: white;
          color: var(--navy, #243447);
          border: none;
          border-bottom: 4px solid transparent;
          font-family: var(--font-display, 'Roboto Slab', serif);
          font-size: 1.1rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          cursor: pointer;
          transition: all 0.2s ease;
          outline: none;
        }

        .nav-button:hover:not(.selected) {
          background: var(--line, #E3E3DF);
        }

        .nav-button.selected {
          background: var(--navy, #243447);
          color: white;
          border-bottom-color: var(--navy, #243447);
          border-bottom-width: 6px;
        }

        .nav-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .count-badge {
          position: absolute;
          top: 12px;
          right: 12px;
          min-width: 20px;
          height: 20px;
          padding: 0 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--accent, #C94B4B);
          color: white;
          font-size: 11px;
          font-weight: 700;
          border-radius: 10px;
          line-height: 1;
        }

        @media (max-width: 768px) {
          .nav-container {
            height: 64px;
            grid-template-columns: 64px repeat(${r.length}, 1fr);
          }

          .logo {
            font-size: 1rem;
          }

          .nav-button {
            font-size: 14px;
          }

          .count-badge {
            top: 8px;
            right: 8px;
            min-width: 18px;
            height: 18px;
            font-size: 10px;
          }
        }
      </style>

      <nav class="nav-container">
        <div class="logo">PCX</div>
        ${r.map((o,s)=>this.renderButton(o,s)).join("")}
      </nav>
    `}renderButton(n,t){const r=n.token===this.selectedToken,i=n.count&&n.count>0;return`
      <button
        class="nav-button ${r?"selected":""}"
        data-token="${n.token}"
        ${n.enabled?"":"disabled"}
        style="grid-area: btn${t}"
      >
        ${n.caption}
        ${i?`<span class="count-badge">${n.count}</span>`:""}
      </button>
    `}attachEventListeners(){this.shadowRoot.querySelectorAll(".nav-button").forEach(r=>{r.addEventListener("click",i=>{const o=i.currentTarget.getAttribute("data-token");o&&!i.currentTarget.disabled&&this.selectButton(o)})}),window.matchMedia("(orientation: portrait)").addEventListener("change",()=>this.render())}selectButton(n){this.selectedToken!==n&&(this.selectedToken=n,ne.publish(`WC.NAV.${n}`,{token:n,timestamp:Date.now()}),this.render(),this.attachEventListeners())}updateButtons(n){this.setAttribute("data-primary-nav-buttons",JSON.stringify(n)),this.parseButtons(),this.render(),this.attachEventListeners()}updateCount(n,t){const r=this.buttons.find(i=>i.token===n);r&&(r.count=t,this.render(),this.attachEventListeners())}}customElements.define("pcx-primary-nav",xt);function jt(){const e=document.getElementById("app"),n=[{token:"HOME",caption:"HOME",enabled:!0,viewport:["landscape","portrait"],count:0,selected:!1},{token:"BADGES",caption:"BADGES",enabled:!0,viewport:["landscape"],count:0,selected:!1},{token:"SIGNIN",caption:"SIGN IN",enabled:!0,viewport:["landscape","portrait"],count:0,selected:!1}];e.innerHTML=`
    <pcx-primary-nav data-primary-nav-buttons='${JSON.stringify(n)}'></pcx-primary-nav>
    <div style="padding: var(--space-xl); text-align: center;">
      <h1>Welcome to PatentBadge</h1>
      <p>Securing for patentees exclusive rights to their discoveries</p>
    </div>
  `}var H=Uint8Array,j=Uint16Array,Be=Int32Array,Me=new H([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ie=new H([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),De=new H([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nt=function(e,n){for(var t=new j(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new Be(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},rt=nt(Me,2),Ht=rt.b,Oe=rt.r;Ht[28]=258,Oe[258]=28;var Dt=nt(Ie,0),$e=Dt.r,Pe=new j(32768);for(var I=0;I<32768;++I){var Z=(I&43690)>>1|(I&21845)<<1;Z=(Z&52428)>>2|(Z&13107)<<2,Z=(Z&61680)>>4|(Z&3855)<<4,Pe[I]=((Z&65280)>>8|(Z&255)<<8)>>1}var ce=(function(e,n,t){for(var r=e.length,i=0,o=new j(n);i<r;++i)e[i]&&++o[e[i]-1];var s=new j(n);for(i=1;i<n;++i)s[i]=s[i-1]+o[i-1]<<1;var f;if(t){f=new j(1<<n);var u=15-n;for(i=0;i<r;++i)if(e[i])for(var v=i<<4|e[i],d=n-e[i],y=s[e[i]-1]++<<d,p=y|(1<<d)-1;y<=p;++y)f[Pe[y]>>u]=v}else for(f=new j(r),i=0;i<r;++i)e[i]&&(f[i]=Pe[s[e[i]-1]++]>>15-e[i]);return f}),ee=new H(288);for(var I=0;I<144;++I)ee[I]=8;for(var I=144;I<256;++I)ee[I]=9;for(var I=256;I<280;++I)ee[I]=7;for(var I=280;I<288;++I)ee[I]=8;var Ee=new H(32);for(var I=0;I<32;++I)Ee[I]=5;var $t=ce(ee,9,0),Jt=ce(Ee,5,0),it=function(e){return(e+7)/8|0},ot=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new H(e.subarray(n,t))},V=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},oe=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},Re=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,o=t.slice();if(!i)return{t:at,l:0};if(i==1){var s=new H(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(Y,B){return Y.f-B.f}),t.push({s:-1,f:25001});var f=t[0],u=t[1],v=0,d=1,y=2;for(t[0]={s:-1,f:f.f+u.f,l:f,r:u};d!=i-1;)f=t[t[v].f<t[y].f?v++:y++],u=t[v!=d&&t[v].f<t[y].f?v++:y++],t[d++]={s:-1,f:f.f+u.f,l:f,r:u};for(var p=o[0].s,r=1;r<i;++r)o[r].s>p&&(p=o[r].s);var m=new j(p+1),L=Ne(t[d-1],m,0);if(L>n){var r=0,l=0,g=L-n,E=1<<g;for(o.sort(function(B,M){return m[M.s]-m[B.s]||B.f-M.f});r<i;++r){var w=o[r].s;if(m[w]>n)l+=E-(1<<L-m[w]),m[w]=n;else break}for(l>>=g;l>0;){var P=o[r].s;m[P]<n?l-=1<<n-m[P]++-1:++r}for(;r>=0&&l;--r){var N=o[r].s;m[N]==n&&(--m[N],++l)}L=n}return{t:new H(m),l:L}},Ne=function(e,n,t){return e.s==-1?Math.max(Ne(e.l,n,t+1),Ne(e.r,n,t+1)):n[e.s]=t},Je=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new j(++n),r=0,i=e[0],o=1,s=function(u){t[r++]=u},f=1;f<=n;++f)if(e[f]==i&&f!=n)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[f]}return{c:t.subarray(0,r),n}},se=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},st=function(e,n,t){var r=t.length,i=it(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var o=0;o<r;++o)e[i+o+4]=t[o];return(i+4+r)*8},qe=function(e,n,t,r,i,o,s,f,u,v,d){V(n,d++,t),++i[256];for(var y=Re(i,15),p=y.t,m=y.l,L=Re(o,15),l=L.t,g=L.l,E=Je(p),w=E.c,P=E.n,N=Je(l),Y=N.c,B=N.n,M=new j(19),b=0;b<w.length;++b)++M[w[b]&31];for(var b=0;b<Y.length;++b)++M[Y[b]&31];for(var _=Re(M,7),U=_.t,D=_.l,F=19;F>4&&!U[De[F-1]];--F);var Q=v+5<<3,G=se(i,ee)+se(o,Ee)+s,x=se(i,p)+se(o,l)+s+14+3*F+se(M,U)+2*M[16]+3*M[17]+7*M[18];if(u>=0&&Q<=G&&Q<=x)return st(n,d,e.subarray(u,u+v));var $,C,K,W;if(V(n,d,1+(x<G)),d+=2,x<G){$=ce(p,m,0),C=p,K=ce(l,g,0),W=l;var a=ce(U,D,0);V(n,d,P-257),V(n,d+5,B-1),V(n,d+10,F-4),d+=14;for(var b=0;b<F;++b)V(n,d+3*b,U[De[b]]);d+=3*F;for(var h=[w,Y],A=0;A<2;++A)for(var O=h[A],b=0;b<O.length;++b){var R=O[b]&31;V(n,d,a[R]),d+=U[R],R>15&&(V(n,d,O[b]>>5&127),d+=O[b]>>12)}}else $=$t,C=ee,K=Jt,W=Ee;for(var b=0;b<f;++b){var S=r[b];if(S>255){var R=S>>18&31;oe(n,d,$[R+257]),d+=C[R+257],R>7&&(V(n,d,S>>23&31),d+=Me[R]);var J=S&31;oe(n,d,K[J]),d+=W[J],J>3&&(oe(n,d,S>>5&8191),d+=Ie[J])}else oe(n,d,$[S]),d+=C[S]}return oe(n,d,$[256]),d+C[256]},qt=new Be([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),at=new H(0),Xt=function(e,n,t,r,i,o){var s=o.z||e.length,f=new H(r+s+5*(1+Math.ceil(s/7e3))+i),u=f.subarray(r,f.length-i),v=o.l,d=(o.r||0)&7;if(n){d&&(u[0]=o.r>>3);for(var y=qt[n-1],p=y>>13,m=y&8191,L=(1<<t)-1,l=o.p||new j(32768),g=o.h||new j(L+1),E=Math.ceil(t/3),w=2*E,P=function(ye){return(e[ye]^e[ye+1]<<E^e[ye+2]<<w)&L},N=new Be(25e3),Y=new j(288),B=new j(32),M=0,b=0,_=o.i||0,U=0,D=o.w||0,F=0;_+2<s;++_){var Q=P(_),G=_&32767,x=g[Q];if(l[G]=x,g[Q]=G,D<=_){var $=s-_;if((M>7e3||U>24576)&&($>423||!v)){d=qe(e,u,0,N,Y,B,b,U,F,_-F,d),U=M=b=0,F=_;for(var C=0;C<286;++C)Y[C]=0;for(var C=0;C<30;++C)B[C]=0}var K=2,W=0,a=m,h=G-x&32767;if($>2&&Q==P(_-h))for(var A=Math.min(p,$)-1,O=Math.min(32767,_),R=Math.min(258,$);h<=O&&--a&&G!=x;){if(e[_+K]==e[_+K-h]){for(var S=0;S<R&&e[_+S]==e[_+S-h];++S);if(S>K){if(K=S,W=h,S>A)break;for(var J=Math.min(h,S-2),le=0,C=0;C<J;++C){var ie=_-h+C&32767,ct=l[ie],Fe=ie-ct&32767;Fe>le&&(le=Fe,x=ie)}}}G=x,x=l[G],h+=G-x&32767}if(W){N[U++]=268435456|Oe[K]<<18|$e[W];var ke=Oe[K]&31,Ce=$e[W]&31;b+=Me[ke]+Ie[Ce],++Y[257+ke],++B[Ce],D=_+K,++M}else N[U++]=e[_],++Y[e[_]]}}for(_=Math.max(_,D);_<s;++_)N[U++]=e[_],++Y[e[_]];d=qe(e,u,v,N,Y,B,b,U,F,_-F,d),v||(o.r=d&7|u[d/8|0]<<3,d-=7,o.h=g,o.p=l,o.i=_,o.w=D)}else{for(var _=o.w||0;_<s+v;_+=65535){var Te=_+65535;Te>=s&&(u[d/8|0]=v,Te=s),d=st(u,d+1,e.subarray(_,Te))}o.i=s}return ot(f,0,r+it(d)+i)},Wt=(function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var t=n,r=9;--r;)t=(t&1&&-306674912)^t>>>1;e[n]=t}return e})(),zt=function(){var e=-1;return{p:function(n){for(var t=e,r=0;r<n.length;++r)t=Wt[t&255^n[r]]^t>>>8;e=t},d:function(){return~e}}},Qt=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var o=n.dictionary.subarray(-32768),s=new H(o.length+e.length);s.set(o),s.set(e,o.length),e=s,i.w=o.length}return Xt(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},Se=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},Vt=function(e,n){var t=n.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=n.level<2?4:n.level==9?2:0,e[9]=3,n.mtime!=0&&Se(e,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),t){e[3]=8;for(var r=0;r<=t.length;++r)e[r+10]=t.charCodeAt(r)}},Zt=function(e){return 10+(e.filename?e.filename.length+1:0)};function en(e,n){n||(n={});var t=zt(),r=e.length;t.p(e);var i=Qt(e,n,Zt(n),8),o=i.length;return Vt(i,n),Se(i,o-8,t.d()),Se(i,o-4,r),i}var Xe=typeof TextEncoder<"u"&&new TextEncoder,tn=typeof TextDecoder<"u"&&new TextDecoder,nn=0;try{tn.decode(at,{stream:!0}),nn=1}catch{}function rn(e,n){var t;if(Xe)return Xe.encode(e);for(var r=e.length,i=new H(e.length+(e.length>>1)),o=0,s=function(v){i[o++]=v},t=0;t<r;++t){if(o+5>i.length){var f=new H(o+8+(r-t<<1));f.set(i),i=f}var u=e.charCodeAt(t);u<128||n?s(u):u<2048?(s(192|u>>6),s(128|u&63)):u>55295&&u<57344?(u=65536+(u&1047552)|e.charCodeAt(++t)&1023,s(240|u>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|u&63)):(s(224|u>>12),s(128|u>>6&63),s(128|u&63))}return ot(i,0,o)}function on(e,n){const t=JSON.stringify(n),r=rn(t),i=en(r),o=btoa(String.fromCharCode(...i));localStorage.setItem(e,o)}function sn(){const e=document.getElementById("app");e.innerHTML=`
    <div class="auth-container">
      <div class="auth-left">
        <h1>Welcome Back</h1>
        <p>Enter your Details</p>

        <div class="auth-content">
          <form id="loginForm" class="auth-form">
          <div class="form-group">
            <label for="email">EMAIL</label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="Enter your email"
            />
          </div>

          <div class="form-group">
            <label for="password">PASSWORD</label>
            <div class="password-input-wrapper">
              <input
                type="password"
                id="password"
                name="password"
                placeholder="Enter your password"
              />
              <button type="button" id="togglePassword" class="toggle-password" aria-label="Toggle password visibility">
                <svg id="eyeIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
          </div>

          <div class="form-footer">
            <a href="#/forgot" id="forgotPasswordLink">FORGOT PASSWORD</a>
          </div>

          <button type="submit" class="btn">SIGN IN</button>
          </form>

          <p class="auth-switch">
            Don't have an account? <a href="#/signup">Sign Up</a>
          </p>
        </div>
      </div>

      <div class="auth-right">
        <div class="auth-right-content">
          <div class="auth-brand-header">
            <span class="auth-brand-name">PatentBadge.com</span>
            <span class="auth-brand-by">by</span>
            <span class="auth-brand-pcx">PCX</span>
          </div>
          <h2 class="auth-hero-title">
            Patent Contract Exchange (PCX) & Patent Badge<sup>TM</sup>
          </h2>
          <p class="auth-hero-description">
            Securing for patentees exclusive rights to their discoveries
          </p>
          <p class="auth-hero-citation">
            (Article I, Sec. 8, Cl. 8 U.S. Constitution)
          </p>
        </div>
      </div>
    </div>
  `,an()}function an(){var o;const e=document.getElementById("loginForm"),n=document.getElementById("email"),t=document.getElementById("password"),r=document.getElementById("togglePassword");r==null||r.addEventListener("click",()=>{const s=t.type==="password"?"text":"password";t.type=s}),e==null||e.addEventListener("submit",async s=>{s.preventDefault();const f=n.value.trim(),u=t.value;cn(f)&&un(u)&&await ln(f,u)}),(o=document.getElementById("forgotPasswordLink"))==null||o.addEventListener("click",s=>{s.preventDefault(),window.router&&window.router.navigate("/forgot")});const i=document.querySelector('.auth-switch a[href="#/signup"]');i==null||i.addEventListener("click",s=>{s.preventDefault(),window.router&&window.router.navigate("/signup")})}function cn(e){const n=t=>{typeof neodigmUtils<"u"&&neodigmUtils.shake(t)};return e?!e.includes("@")||!e.includes(".")?(typeof neodigmToast<"u"&&neodigmToast.q("Please enter a valid email address","danger"),n("#email"),!1):!0:(typeof neodigmToast<"u"&&neodigmToast.q("Please enter your email","danger"),n("#email"),!1)}function un(e){const n=t=>{typeof neodigmUtils<"u"&&neodigmUtils.shake(t)};return e?e.length<10?(typeof neodigmToast<"u"&&neodigmToast.q("Password must be at least 10 characters","danger"),n("#password"),!1):!0:(typeof neodigmToast<"u"&&neodigmToast.q("Please enter your password","danger"),n("#password"),!1)}async function ln(e,n){try{let t=n;typeof neodigmUtils<"u"&&(t=neodigmUtils.genHash(n));const r={email:e,hash:t};await we.doSignin(r,i=>{if(i.ok===!0){const{accessToken:o,...s}=i;on("entity",s),ne.publish("APP.SIGNIN",{email:e,timestamp:Date.now()}),typeof mvvLegit>"u"&&window.router&&window.router.navigate("/home")}})}catch(t){console.error("Signin error:",t),typeof neodigmToast<"u"&&neodigmToast.q("An error occurred during sign in","danger")}}function fn(){const e=document.getElementById("app");e.innerHTML="<h1>Sign Up</h1>"}function hn(){const e=document.getElementById("app"),n=[{token:"HOME",caption:"HOME",enabled:!0,viewport:["landscape","portrait"],count:0,selected:!0},{token:"BADGES",caption:"BADGES",enabled:!0,viewport:["landscape"],count:3,selected:!1},{token:"BIDS",caption:"BIDS",enabled:!0,viewport:["landscape"],count:0,selected:!1},{token:"SIGNOUT",caption:"SIGN OUT",enabled:!0,viewport:["landscape","portrait"],count:0,selected:!1}];e.innerHTML=`
    <pcx-primary-nav data-primary-nav-buttons='${JSON.stringify(n)}'></pcx-primary-nav>
    <div style="padding: var(--space-xl);">
      <h1>Dashboard</h1>
      <p>Welcome back to your PatentBadge dashboard</p>
    </div>
  `}function dn(){const e=document.getElementById("app");e.innerHTML="<h1>Reset Hash</h1>"}function pn(){const e=document.getElementById("app");e.innerHTML=`
    <div class="auth-container">
      <div class="auth-left">
        <h1>Sign Out</h1>
        <p>Are you sure you want to sign out?</p>

        <div class="auth-content">
          <div class="signout-actions">
            <button id="signoutBtn" class="btn btn-signout">SIGN OUT</button>
            <button id="cancelBtn" class="btn btn-ghost">CANCEL</button>
          </div>
        </div>
      </div>

      <div class="auth-right">
        <div class="auth-right-content">
          <div class="auth-brand-header">
            <span class="auth-brand-name">PatentBadge.com</span>
            <span class="auth-brand-by">by</span>
            <span class="auth-brand-pcx">PCX</span>
          </div>
          <h2 class="auth-hero-title">
            Patent Contract Exchange (PCX) & Patent Badge<sup>TM</sup>
          </h2>
          <p class="auth-hero-description">
            Securing for patentees exclusive rights to their discoveries
          </p>
          <p class="auth-hero-citation">
            (Article I, Sec. 8, Cl. 8 U.S. Constitution)
          </p>
        </div>
      </div>
    </div>
  `,gn()}function gn(){const e=document.getElementById("signoutBtn"),n=document.getElementById("cancelBtn");e==null||e.addEventListener("click",()=>{console.log("Signing out..."),ne.publish("APP.SIGNOUT",{timestamp:Date.now()}),localStorage.removeItem("entity"),typeof mvvLegit<"u"?mvvLegit.doSignout():window.router&&window.router.navigate("/signin")}),n==null||n.addEventListener("click",()=>{console.log("Canceling signout, returning to home"),window.router&&window.router.navigate("/home")})}function vn(){const e=document.getElementById("app");e.innerHTML="<h1>Forgot Password</h1>"}function En(){const e=document.getElementById("app");e.innerHTML="<h1>Reset Forgot Password</h1>"}function Tn(){const e=document.getElementById("app");e.innerHTML="<h1>Verification Link</h1>"}function We(e){var t,r,i;const n=document.getElementById("app");n.innerHTML=`
    <h1>Error</h1>
    <div style="margin-top: 20px;">
      <button id="testSignin">Go to Sign In</button>
      <button id="testHome">Go to Home</button>
      <button id="testSplash">Go to Splash</button>
    </div>
    <div style="margin-top: 20px;">
      <p>Current hash: <code>${window.location.hash}</code></p>
      <p>Current pathname: <code>${window.location.pathname}</code></p>
    </div>
  `,(t=document.getElementById("testSignin"))==null||t.addEventListener("click",()=>{console.log("Navigating to signin"),window.router&&window.router.navigate("/signin")}),(r=document.getElementById("testHome"))==null||r.addEventListener("click",()=>{console.log("Navigating to home"),window.router&&window.router.navigate("/home")}),(i=document.getElementById("testSplash"))==null||i.addEventListener("click",()=>{console.log("Navigating to /"),window.router&&window.router.navigate("/")})}function yn(){const e=document.getElementById("app");e.innerHTML="<h1>Offline</h1>"}const _n=ge.features[ge.features.ENV].FF_BASE_URI;Gt.bindAppListeners("pcx-core");const ue=new Bt("/patentbadge/login/",{hash:!0});console.log("Router initialized:",ue);console.log("Initial hash:",window.location.hash);console.log("Initial pathname:",window.location.pathname);typeof mvvLegit<"u"&&(mvvLegit.init({BASE:_n}),mvvLegit.setNavConroller((e=null)=>{if(e){console.log("mvvLegit navigation to:",e);const n=e.replace("_route","").replace("_","-");ue.navigate(`/${n}`)}}),mvvLegit.setOnState((e=null)=>{e!==null&&console.log(`mvvLegit authentication state changed to: ${e}`)}));function X(e){if(typeof mvvLegit>"u")return!0;const n=e?`${e.replace("-","_")}_route`:"splash_route",t=mvvLegit.isRouteAllowed(n);return t||(console.log("Route blocked by mvvLegit:",n,"- redirecting to splash"),setTimeout(()=>{ue.navigate("/")},0)),t}ue.on({"/":()=>{console.log("Matched route: /"),X("splash")&&jt()},"/signin":()=>{console.log("Matched route: /signin"),X("signin")&&sn()},"/signup":()=>{console.log("Matched route: /signup"),X("signup")&&fn()},"/home":()=>{console.log("Matched route: /home"),X("home")&&hn()},"/resethash":()=>{console.log("Matched route: /resethash"),X("resethash")&&dn()},"/signout":()=>{console.log("Matched route: /signout"),X("signout")&&pn()},"/forgot":()=>{console.log("Matched route: /forgot"),X("forgot")&&vn()},"/resetforgot":()=>{console.log("Matched route: /resetforgot"),X("resetforgot")&&En()},"/verf-link":()=>{console.log("Matched route: /verf-link"),X("verf-link")&&Tn()},"/error":()=>{console.log("Matched route: /error"),X("error")&&We()},"/offline":()=>{console.log("Matched route: /offline"),X("offline")&&yn()}}).notFound(()=>{console.log("No route matched - showing error"),We()}).resolve();window.router=ue;
