document.addEventListener("DOMContentLoaded",function(){let e=1;const g=document.querySelectorAll(".testimonial-card"),b=document.querySelectorAll(".testimonial-dot");let a;function l(){g.forEach(t=>{parseInt(t.dataset.testimonial)===e?(t.style.opacity="1",t.style.transform="scale(1)",t.style.zIndex="10"):(t.style.opacity="0",t.style.transform="scale(0.95)",t.style.zIndex="1")}),b.forEach(t=>{parseInt(t.dataset.dot)===e?t.style.background="var(--accent)":t.style.background="transparent"})}function h(){e=e===3?1:e+1,l(),c()}function y(){e=e===1?3:e-1,l(),c()}function _(t){e=t,l(),c()}function c(){clearInterval(a),a=setInterval(()=>{h()},5e3)}g.length>0&&(a=setInterval(()=>{h()},5e3));const m=document.getElementById("mobileMenuToggle"),d=document.getElementById("mainNav");m&&d&&(m.addEventListener("click",function(){d.classList.toggle("active")}),document.querySelectorAll("#mainNav a").forEach(e=>{e.addEventListener("click",function(){d.classList.remove("active")})}));const u=document.getElementById("yr");u&&(u.textContent=(new Date).getFullYear());const s=document.querySelector(".impact-number");if(s){const e=parseInt(s.dataset.target),a=2e3,r=e/(a/16);let t=0,n=!1;const o=()=>{if(t+=r,t>=e){t=e,s.textContent=e+"%";const n=document.querySelector(".impact-subtitle");n&&setTimeout(()=>{n.style.opacity="1"},200)}else s.textContent=Math.floor(t)+"%",requestAnimationFrame(o)},i=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!n&&(n=!0,o(),i.unobserve(e.target))})},{threshold:.5});i.observe(s)}let t=0;const n=["submit","badge","license","revenue"];function i(e){document.querySelectorAll(".dashboard-screen").forEach(e=>{e.style.display="none"});const t=document.getElementById(`screen-${e}`);t&&(t.style.display="flex"),document.querySelectorAll(".dashboard-nav .nav-item").forEach(t=>{t.classList.remove("active"),t.dataset.screen===e&&t.classList.add("active")})}document.querySelectorAll(".nav-item").forEach(e=>{e.addEventListener("click",()=>{const s=e.dataset.screen;t=n.indexOf(s),i(s)})});const f=document.getElementById("prev-screen"),p=document.getElementById("next-screen");f&&f.addEventListener("click",()=>{t=(t-1+n.length)%n.length,i(n[t])}),p&&p.addEventListener("click",()=>{t=(t+1)%n.length,i(n[t])});const o=document.getElementById("lead");if(o){const e=document.getElementById("formError"),t=document.getElementById("successMsg");o.addEventListener("submit",n=>{n.preventDefault(),e.style.display="none",t.style.display="none";const i=new FormData(o),a=["name","email","org"],r=a.some(e=>!String(i.get(e)||"").trim()),c=String(i.get("email")||""),l=/.+@.+\..+/.test(c);if(r||!l){e.style.display="block";return}const s=o.querySelector('button[type="submit"]'),d=s.textContent;s.disabled=!0,s.textContent="Submittingâ€¦",setTimeout(()=>{s.disabled=!1,s.textContent=d,t.style.display="block",o.reset()},700)})}const j={threshold:.1,rootMargin:"0px 0px -50px 0px"},v=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),v.unobserve(e.target))})},j);document.querySelectorAll(".fade-in-section").forEach(e=>{v.observe(e)}),window.showLicenseTerms=function(){const t=document.getElementById("licenseModal");t&&t.classList.add("active")},window.closeLicenseModal=function(){const e=document.getElementById("licenseModal");e&&e.classList.remove("active")};const r=document.getElementById("licenseModal");r&&r.addEventListener("click",function(e){e.target===r&&window.closeLicenseModal()})})